{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { PasswordsMatchValidator } from 'src/app/shared/validators/password_match_validator';\nimport { TitleComponent } from '../../partials/title/title.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { TextInputComponent } from '../../partials/text-input/text-input.component';\nimport { DefaultButtonComponent } from '../../partials/default-button/default-button.component';\nimport { RouterModule } from '@angular/router';\nlet RegisterPageComponent = class RegisterPageComponent {\n  constructor(formBuilder, userService, activatedRoute, router) {\n    this.formBuilder = formBuilder;\n    this.userService = userService;\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.isSubmitted = false;\n    this.returnUrl = '';\n  }\n  ngOnInit() {\n    this.registerForm = this.formBuilder.group({\n      name: ['', [Validators.required, Validators.minLength(5)]],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(5)]],\n      confirmPassword: ['', Validators.required],\n      address: ['', [Validators.required, Validators.minLength(10)]]\n    }, {\n      validators: PasswordsMatchValidator('password', 'confirmPassword')\n    });\n    this.returnUrl = this.activatedRoute.snapshot.queryParams.returnUrl;\n  }\n  get fc() {\n    return this.registerForm.controls;\n  }\n  submit() {\n    this.isSubmitted = true;\n    if (this.registerForm.invalid) return;\n    const fv = this.registerForm.value;\n    const user = {\n      name: fv.name,\n      email: fv.email,\n      password: fv.password,\n      confirmPassword: fv.confirmPassword,\n      address: fv.address\n    };\n    this.userService.register(user).subscribe(_ => {\n      this.router.navigateByUrl(this.returnUrl);\n    });\n  }\n};\nRegisterPageComponent = __decorate([Component({\n  selector: 'app-register-page',\n  templateUrl: './register-page.component.html',\n  styleUrls: ['./register-page.component.css'],\n  imports: [TitleComponent, ReactiveFormsModule, TextInputComponent, DefaultButtonComponent, RouterModule]\n})], RegisterPageComponent);\nexport { RegisterPageComponent };","map":{"version":3,"names":["Component","Validators","PasswordsMatchValidator","TitleComponent","ReactiveFormsModule","TextInputComponent","DefaultButtonComponent","RouterModule","RegisterPageComponent","constructor","formBuilder","userService","activatedRoute","router","isSubmitted","returnUrl","ngOnInit","registerForm","group","name","required","minLength","email","password","confirmPassword","address","validators","snapshot","queryParams","fc","controls","submit","invalid","fv","value","user","register","subscribe","_","navigateByUrl","__decorate","selector","templateUrl","styleUrls","imports"],"sources":["C:\\EXO ANGULAR\\foodmine-course-master\\frontend\\src\\app\\components\\pages\\register-page\\register-page.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { UserService } from 'src/app/services/user.service';\nimport { IUserRegister } from 'src/app/shared/interfaces/IUserRegister';\nimport { PasswordsMatchValidator } from 'src/app/shared/validators/password_match_validator';\nimport { TitleComponent } from '../../partials/title/title.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { TextInputComponent } from '../../partials/text-input/text-input.component';\nimport { DefaultButtonComponent } from '../../partials/default-button/default-button.component';\nimport { RouterModule } from '@angular/router';\n\n@Component({\n  selector: 'app-register-page',\n  templateUrl: './register-page.component.html',\n  styleUrls: ['./register-page.component.css'],\n  imports:[\n    TitleComponent,\n    ReactiveFormsModule,\n    TextInputComponent,\n    DefaultButtonComponent,\n    RouterModule\n  ],\n})\nexport class RegisterPageComponent implements OnInit {\n\n  registerForm!:FormGroup;\n  isSubmitted = false;\n\n  returnUrl = '';\n  constructor(\n    private formBuilder: FormBuilder,\n    private userService: UserService,\n    private activatedRoute: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.registerForm = this.formBuilder.group({\n      name: ['', [Validators.required, Validators.minLength(5)]],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(5)]],\n      confirmPassword: ['', Validators.required],\n      address: ['', [Validators.required, Validators.minLength(10)]]\n    },{\n      validators: PasswordsMatchValidator('password','confirmPassword')\n    });\n\n    this.returnUrl= this.activatedRoute.snapshot.queryParams.returnUrl;\n  }\n\n  get fc() {\n    return this.registerForm.controls;\n  }\n\n  submit(){\n    this.isSubmitted = true;\n    if(this.registerForm.invalid) return;\n\n    const fv= this.registerForm.value;\n    const user :IUserRegister = {\n      name: fv.name,\n      email: fv.email,\n      password: fv.password,\n      confirmPassword: fv.confirmPassword,\n      address: fv.address\n    };\n\n    this.userService.register(user).subscribe(_ => {\n      this.router.navigateByUrl(this.returnUrl);\n    })\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}